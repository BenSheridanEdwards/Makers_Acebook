env:
  global:
  - CC_TEST_REPORTER_ID=449a24264feeaf228f1814df231e18bfd169910b8d0b10df65996431d37cc625
language: ruby
rvm:
- 2.5
services:
- postgresql
before_script:
- bundle exec rails db:create
- bundle exec rails db:migrate RAILS_ENV=test
- curl -L https://codeclimate.com/downloads/test-reporter/test-reporter-latest-linux-amd64
  > ./cc-test-reporter
- chmod +x ./cc-test-reporter
- "./cc-test-reporter before-build"
script:
- bundle exec rspec
- bundle exec rubocop
after_script:
- "./cc-test-reporter after-build --exit-code $TRAVIS_TEST_RESULT"
deploy:
  provider: heroku
  skip_cleanup: true
  app: acebook-luckerberg
  on:
    repo: Hyan18/acebook-luckerberg
  run:
  - bundle exec rails db:create
  - bundle exec rails db:migrate
  api_key:
    - secure: 47upj1FcfHxiJDclfXKo+1OJZSv5DLDjpMlJq2TgE99tpcMDWr79KPPnhO8x4WiBhQuLMyNVOq7aeXYCOoqHcGjeqba9iHkV3ViMZ38fYBgDSDYgQbYlhe/cMkwId1OLFVjTf24H+aVk65LqLS+P3EXU8Wr7J7T4IObjYU6hhT5QA4GSGyuaSyvhTIqDUdwZyScDepT3LLRptEAfTWak98kp3QZnZ5ktlF+VQvBYpVGwO2fjUHmiGOzUxLtoDomE2qv71FznEvIQV1Mx9QZvOBPO1tMyyGX/xghwfKxrBQ5o9qHDw2sihqizT+rkEPb2j56soXuEg97NBm7+P8s1l+dXUa1wV1u64C9aHxLwpmjlMCBppE2CyBHRWM5IU1uqOu1QsVX1H1PO+lRj6ZgDY/D9T7miaCUbPpDAP115pk6VfxDOoOONocqI6XXey2wo+xaqE/ItkWnp32oGM1K9EOQ6hhlNCCOrJ1pi4DbmWS8vxHo1DDIJL8fUik7TF/yFsadAr7U1qzNGQhPe84IAeW1ljlZvJcUUGX8FKDdSwdNuxEC9UYBtU4Aq0CcqKyYd0TNA7EPdHm0YSI5U0BA31Dul7c8TRazHx3+FakFNSV0T41EelWjCOb7+wLGR/b0WGo/RIemH5WKViRuSQkLfs/xnzu7RcbSNlsQuFDJNwsg=
